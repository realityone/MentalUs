{% extends "general/base.html" %}
{% import "macros.html" as macros %}
{% set path_list = ['测试管理', '正在答题'] %}

{% block page_content %}
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">{{ scale.title }}
                    <span class="pull-right"><span id="sub_now">0</span>/<span id="sub_total">0</span></span>
                </h3>
            </div>
            <div class="panel-body">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="progress">
                        <div class="progress">
                            <div id="sub_progress" class="progress-bar progress-bar-info progress-bar-striped"
                                 role="progressbar" aria-valuenow="2"
                                 aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 2%;">
                                <span>0%</span>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="scale_id" value="{{ scale.id }}"/>
                    <input type="hidden" id="question_id" value="-1"/>
                    <input type="hidden" id="scale_json" value="{{ scale.scale_json }}"/>
                    <script src="{{ url_for('static', filename='js/answer.js') }}"></script>

                    <div class="subject">
                        <div class="question" id="question">
                            Question
                        </div>
                        <div class="answer">
                            <table class="table" id="answer_table">
                                <tr></tr>
                            </table>
                        </div>
                    </div>

                    <div class="control">
                        <input type="hidden" id="sid" value="12"/>
                        <input type="hidden" id="qid" value="13"/>

                        <label for="auto_next">
                            <input type="checkbox" id="auto_next"
                                   name="auto_next"/>自动进入下一题
                        </label>

                        <div class="btn-group" role="group" aria-label="question_control">
                            <button id="prev" onclick="go_prev()" type="button" class="btn btn-default">« 上一题</button>
                            <button id="next" onclick="go_next()" type="button" class="btn btn-default">下一题 »</button>
                        </div>

                        <label for="submit_all">
                            <button id="submit_all" type="button" class="btn btn-warning disabled"
                                    data-toggle="modal"
                                    data-target="#check_to_submit">提交问卷
                            </button>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="check_to_submit">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">×</span></button>
                    <h4 class="modal-title">提交问卷</h4>
                </div>
                <div class="modal-body">
                    <p>确认提交问卷吗？</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">返回</button>
                    <button type="button" class="btn btn-primary">确认提交</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}